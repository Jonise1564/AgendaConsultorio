extends ../layout

block contenido
  .container.mt-5
    h2 Crear Nueva Agenda
    form(action="/agendas" method="POST")
      h3 Fechas
      .mb-3  
        label(for="fecha_creacion" class="form-label") Comienza:
        input#fecha_creacion.form-control(type="date" name="fecha_creacion" required)
      .mb-3  
        label(for="fecha_fin" class="form-label") Finaliza:
        input#fecha_fin.form-control(type="date" name="fecha_fin" required)
      h3 Horas
      .mb-3
        label(for="hora_inicio" class="form-label") Inicio:
        input#hora_inicio.form-control(type="time" name="hora_inicio" required)
      .mb-3
        label(for="hora_fin" class="form-label") Final:
        input#hora_fin.form-control(type="time" name="hora_fin" required)
      .mb-3
        label(for="duracion_turnos" class="form-label") Duración de Turnos:
        input#duracion_turnos.form-control(type="number" name="duracion_turnos" required)
      .mb-3
        label(for="limite_sobreturnos" class="form-label") Limite de Sobreturnos:
        input#limite_sobreturnos.form-control(type="number" name="limite_sobreturnos" required)
      .mb-3
        label(for="medicos" class="form-label") Asignar Agenda al Profesional:
        select#medicos.form-control(name="medicos" required)
          option(value="") Seleccionar
          if medicos
            each medico in medicos
              option(value=medico.id_usuario)= `${medico.nombre} ${medico.apellido}`
          else
            option(value="") No hay Profesionales disponibles
        button#verEspecialidades.btn.btn-secondary(type="button" style="display: none;") Ver Especialidades
      .mb-3
        label(for="especialidadesSeleccionadas" class="form-label") Especialidades Seleccionadas:
        ul#especialidadesSeleccionadas
      button.btn.btn-primary(type="submit") Crear Agenda

    //- Ventana emergente para mostrar especialidades
    .modal#especialidadesModal
      .modal-content
        span.close ×
        h3 Especialidades del Profesional
        ul#listaEspecialidades
    script(src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous")
    script(src="/js/medicos.js")
